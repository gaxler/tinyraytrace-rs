<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="This is a basic ray tracer. It is based on Understandable RayTracing in 256 lines of bare C++ Coming from a computer vision background, I had some idea how ray tracing might work, this is for me to actually understand it. To make it more fun, I wanna try and write documentation that’s going to cover some fundamental concepts as part of it."><meta name="keywords" content="rust, rustlang, rust-lang, tinyraytracer"><title>tinyraytracer - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../ayu.css" disabled ><script id="default-settings"></script><script src="../storage.js"></script><script src="../crates.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../favicon.svg">
<link rel="alternate icon" type="image/png" href="../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../tinyraytracer/index.html'><div class='logo-container rust-logo'><img src='../rust-logo.png' alt='logo'></div></a><p class="location">Crate tinyraytracer</p><div class="block version"><p>Version 0.1.0</p></div><div class="sidebar-elems"><a id="all-types" href="all.html"><p>See all tinyraytracer's items</p></a><div class="block items"><ul><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#constants">Constants</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Definitions</a></li></ul></div><p class="location"></p><div id="sidebar-vars" data-name="tinyraytracer" data-ty="mod" data-relpath="../"></div><script defer src="../sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu"><img src="../brush.svg" width="18" height="18" alt="Pick another theme!"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" class="help-button">?</button>
                <a id="settings-menu" href="../settings.html"><img src="../wheel.svg" width="18" height="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Crate <a class="mod" href="">tinyraytracer</a><button id="copy-path" onclick="copy_path(this)">⎘</button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../src/tinyraytracer/main.rs.html#1-333" title="goto source code">[src]</a></span></h1><div class="docblock"><p>This is a basic ray tracer. It is based on <a href="https://github.com/ssloy/tinyraytracer/wiki">Understandable RayTracing in 256 lines of bare C++</a>
Coming from a computer vision background, I had some idea how ray tracing might work, this is for me to actually understand it.
To make it more fun, I wanna try and write documentation that’s going to cover some fundamental concepts as part of it.</p>
<p>( <em>This is a work in progress and I don’t add documentation in a linear fashion, so it might be a bit early to try and read it</em>)
If there is anything you want to fix/comment on/request etc. <a href="https://github.com/gaxler/tinyraytrace-rs/discussions/">Github Discussions</a> is the best way to get in touch</p>
<h2 id="what-is-ray-tracing" class="section-header"><a href="#what-is-ray-tracing">What is Ray Tracing?</a></h2>
<p>(<em>caveat: I’m learning about it pretty much for the first time as I implement this.</em>)</p>
<p>We have a 3-D model of some object in the world, and we want to express this model as a 2-D computer image. To construct our image we need to decide what color to assign to each pixel of the image.
Since the real world is complex we don’t have an easy method to determine the color we should assign to each image pixel and we relay on simulations of light rays.
Now, lets say more about what we mean by complex world and by simulation of a light ray.</p>
<p>The world is complex because objects have many colors, those colors change with lighting and reflection properties of the materials they are made of.
Also, those properties interact with each other (light sources act in tandem on an object, light reflects from one object to another etc..).
We do light ray simulation is by modeling how a ray of light behaves in the world. Direction at which it meets an object, how it is reflect from the object, how it eventually hits our eye etc…</p>
<p>To see how complex this can get, let’s take a look at our goal with this project vs. where we are now:</p>
<p style="text-align:center;"><img src="https://raw.githubusercontent.com/ssloy/tinyraytracer/homework_assignment/out-envmap-duck.jpg"  width="400"/>
 <img src="https://raw.githubusercontent.com/gaxler/tinyraytrace-rs/main/static/assets/current.png"  width="400"/>
</p>
<h2 id="how-we-trace-rays" class="section-header"><a href="#how-we-trace-rays">How we trace rays?</a></h2>
<p>Since we are going to project from 3 to 2 dimension we need to pick a viewing angle (projection plane).
This plane is going to We going to call this viewing angle a camera.</p>
<p><a href="struct.Sphere.html#method.ray_intersect">Ray-Sphere intersection</a></p>
<h2 id="question-for-future-explorations" class="section-header"><a href="#question-for-future-explorations">Question for future explorations</a></h2><h3 id="what-if-we-have-millions-of-objects-in-a-scene" class="section-header"><a href="#what-if-we-have-millions-of-objects-in-a-scene">What if we have millions of objects in a scene?</a></h3>
<p>I guess you can avoid checking most of the objects and limit your intersection checks based on light rays’ direction. How is it done in actual ray tracers?</p>
<h3 id="how-to-make-ray-tracing-differentiable" class="section-header"><a href="#how-to-make-ray-tracing-differentiable">How to make ray tracing differentiable?</a></h3>
<p>Quick search got me this <a href="https://people.csail.mit.edu/tzumao/diffrt/">paper</a></p>
</div><h2 id="modules" class="section-header"><a href="#modules">Modules</a></h2>
<table><tr class="module-item"><td><a class="mod" href="blocks/index.html" title="tinyraytracer::blocks mod">blocks</a></td><td class="docblock-short"><p>In our world we have Spheres, Light Sources, Light Rays ang Materials.</p>
</td></tr><tr class="module-item"><td><a class="mod" href="vectors/index.html" title="tinyraytracer::vectors mod">vectors</a></td><td class="docblock-short"><p>We operate in a 3-D coordinate space. This is a helper struct for vector calculations.</p>
</td></tr></table><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2>
<table><tr class="module-item"><td><a class="struct" href="struct.CollisionState.html" title="tinyraytracer::CollisionState struct">CollisionState</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.LightBuilder.html" title="tinyraytracer::LightBuilder struct">LightBuilder</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.SphereBuilder.html" title="tinyraytracer::SphereBuilder struct">SphereBuilder</a></td><td class="docblock-short"></td></tr></table><h2 id="constants" class="section-header"><a href="#constants">Constants</a></h2>
<table><tr class="module-item"><td><a class="constant" href="constant.CANVAS_WIDTH_HEIGHT.html" title="tinyraytracer::CANVAS_WIDTH_HEIGHT constant">CANVAS_WIDTH_HEIGHT</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="constant" href="constant.DEFAULT_JITTER.html" title="tinyraytracer::DEFAULT_JITTER constant">DEFAULT_JITTER</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="constant" href="constant.MAX_RAY_BOUNCES.html" title="tinyraytracer::MAX_RAY_BOUNCES constant">MAX_RAY_BOUNCES</a></td><td class="docblock-short"></td></tr></table><h2 id="functions" class="section-header"><a href="#functions">Functions</a></h2>
<table><tr class="module-item"><td><a class="fn" href="fn.cast_ray.html" title="tinyraytracer::cast_ray fn">cast_ray</a></td><td class="docblock-short"><p>This is the light ray simulation. We go over the objects in the scene and check if our light ray intersect with them.
If there is an intersection, we get the point of intersection and assign the color of the object the ray intersect with.
Next we use the point of intersection and the lighting source in the scene to determine how lighting should affect the color at intersection point.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.get_light_adjustments.html" title="tinyraytracer::get_light_adjustments fn">get_light_adjustments</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.jitter_along_normal.html" title="tinyraytracer::jitter_along_normal fn">jitter_along_normal</a></td><td class="docblock-short"><p>This function jitters a point along a noraml vector. Why do we need that? <a href="https://github.com/ssloy/tinyraytracer/wiki/Part-1:-understandable-raytracing#step-6-shadows">@ssloy explains</a>:
“Why is that? It’s just that our point lies on the surface of the object, and (except for the question of numerical errors) any ray from this point will intersect the object itself.”</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.light_is_shadowed.html" title="tinyraytracer::light_is_shadowed fn">light_is_shadowed</a></td><td class="docblock-short"><p>Shadow is like a negative light, we “cast a ray of shadow” for a certain hit point and light source.
If the shadow ray hits the object, we know that the object is in shadow and we can’t see the light source. (<a href="https://copilot.github.com/">Github Copilot</a> wrote this line for me, how cool is that?)</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.main.html" title="tinyraytracer::main fn">main</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.reflective_ray_cast.html" title="tinyraytracer::reflective_ray_cast fn">reflective_ray_cast</a></td><td class="docblock-short"><p>Our ray of lights don’t stay in the same spot. If the hit some reflective material, they bounce off it like a ball.
The is a recursive process. We start with a ray of light and cast it through the scene. Every time a ray hits some object and bounces off, well that’s a new ray.
In real life ( I guess ) this process can go on until light losses energy, here we put a hard limit on the number of bounces.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.render.html" title="tinyraytracer::render fn">render</a></td><td class="docblock-short"><p>This function builds an image by simulating light rays.
Each pixel of an image is translated into a light ray. For each pixel, the light ray simulation returns the color the pixel should get.</p>
</td></tr></table><h2 id="types" class="section-header"><a href="#types">Type Definitions</a></h2>
<table><tr class="module-item"><td><a class="type" href="type.SceneObject.html" title="tinyraytracer::SceneObject type">SceneObject</a></td><td class="docblock-short"></td></tr></table></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../" data-current-crate="tinyraytracer" data-search-index-js="../search-index.js" data-search-js="../search.js"></div>
    <script src="../main.js"></script></body></html>